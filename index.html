<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scarlet Content Factory - Mars 2026</title>
    <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="site-header">
            <h1>ğŸ¨ Scarlet Content Factory</h1>
            <p>Publications Mars 2026 â€¢ Planification & Feedback</p>
            
            <nav class="site-nav">
                <a href="index.html" class="nav-btn active">ğŸ“Š Vue d'ensemble</a>
                <a href="generate.html" class="nav-btn">ğŸ¤– GÃ©nÃ©rateur IA</a>
                <a href="#" class="nav-btn" onclick="exportAllPNG(); return false;">ğŸ’¾ Export All</a>
            </nav>
        </header>

        <!-- Hero CTA - AI Generator -->
        <div class="hero-cta">
            <div class="hero-cta-content">
                <div class="hero-cta-icon">ğŸ¤–</div>
                <div class="hero-cta-text">
                    <h2>GÃ©nÃ©rez vos posts automatiquement avec l'IA</h2>
                    <p>CrÃ©ez 6 publications complÃ¨tes en quelques secondes basÃ©es sur vos performances et les tendances belges</p>
                </div>
                <a href="generate.html" class="hero-cta-button">
                    <span class="button-text">GÃ©nÃ©rer Avril 2026</span>
                    <span class="button-icon">â†’</span>
                </a>
            </div>
        </div>

        <!-- Statistics -->
        <div class="stats-bar">
            <div class="stat-card">
                <span class="stat-value" id="totalPosts">6</span>
                <span class="stat-label">Publications</span>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="pilierBonMarche">2</span>
                <span class="stat-label">Bon MarchÃ©</span>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="pilierQualite">1</span>
                <span class="stat-label">QualitÃ©</span>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="pilierTransparence">3</span>
                <span class="stat-label">Transparence</span>
            </div>
        </div>

        <!-- Filters -->
        <div class="filters">
            <button class="filter-btn active" data-filter="all">Tous (6)</button>
            <button class="filter-btn" data-filter="Bon MarchÃ©">ğŸ’° Bon MarchÃ© (2)</button>
            <button class="filter-btn" data-filter="QualitÃ©">â­ QualitÃ© (1)</button>
            <button class="filter-btn" data-filter="Transparence">ğŸ” Transparence (3)</button>
            <button class="filter-btn" data-filter="pie_chart">ğŸ“Š Pie Chart (1)</button>
            <button class="filter-btn" data-filter="meme">ğŸ˜‚ Meme (4)</button>
            <button class="filter-btn" data-filter="checklist">âœ… Checklist (1)</button>
            <button class="filter-btn" data-filter="poll">ğŸ“Š Poll (1)</button>
        </div>

        <!-- Posts Grid -->
        <div class="posts-grid" id="postsGrid">
            <!-- Posts will be dynamically generated here -->
        </div>

        <!-- Footer -->
        <footer class="site-footer">
            <p>Made with â¤ï¸ for Scarlet Content Factory</p>
            <p style="margin-top: 8px; font-size: 12px;">
                Format: 540Ã—540px â€¢ Facebook & Instagram â€¢ Mars 2026
            </p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="assets/data.js"></script>
    <script>
        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            renderPosts();
            setupFilters();
            updateStats();
        });

        // Render posts grid
        function renderPosts(filter = 'all') {
            const grid = document.getElementById('postsGrid');
            const posts = filter === 'all' 
                ? POSTS_DATA 
                : POSTS_DATA.filter(p => p.pilier === filter || p.format === filter);

            grid.innerHTML = posts.map(post => `
                <a href="post.html?id=${post.id}" class="post-card fade-in">
                    <div class="post-thumbnail">
                        ${getFormatEmoji(post.format)}
                    </div>
                    <div class="post-info">
                        <div class="post-meta">
                            <span class="badge badge-date">${post.date}/26</span>
                            <span class="badge ${getPilierClass(post.pilier)}">${post.pilier}</span>
                            <span class="badge badge-format">${post.formatLabel}</span>
                        </div>
                        <div class="post-theme">${post.theme}</div>
                        <div class="post-caption">${post.captions.fr}</div>
                    </div>
                </a>
            `).join('');
        }

        // Setup filter buttons
        function setupFilters() {
            const buttons = document.querySelectorAll('.filter-btn');
            buttons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Update active state
                    buttons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    // Filter posts
                    const filter = btn.dataset.filter;
                    renderPosts(filter);
                });
            });
        }

        // Update statistics
        function updateStats() {
            const stats = {
                total: POSTS_DATA.length,
                bonMarche: POSTS_DATA.filter(p => p.pilier === 'Bon MarchÃ©').length,
                qualite: POSTS_DATA.filter(p => p.pilier === 'QualitÃ©').length,
                transparence: POSTS_DATA.filter(p => p.pilier === 'Transparence').length
            };

            document.getElementById('totalPosts').textContent = stats.total;
            document.getElementById('pilierBonMarche').textContent = stats.bonMarche;
            document.getElementById('pilierQualite').textContent = stats.qualite;
            document.getElementById('pilierTransparence').textContent = stats.transparence;
        }

        // Helper functions
        function getFormatEmoji(format) {
            const emojis = {
                'pie_chart': 'ğŸ“Š',
                'meme': 'ğŸ˜‚',
                'checklist': 'âœ…',
                'poll': 'ğŸ“Š'
            };
            return emojis[format] || 'ğŸ“„';
        }

        function getPilierClass(pilier) {
            const classes = {
                'Bon MarchÃ©': 'badge-green',
                'QualitÃ©': 'badge-blue',
                'Transparence': 'badge-yellow'
            };
            return classes[pilier] || 'badge-format';
        }

        // Export all posts (placeholder)
        function exportAllPNG() {
            alert('FonctionnalitÃ© Ã  venir : Export de tous les visuels en PNG');
            // TODO: Implement bulk export
        }
    </script>
</body>
</html>
